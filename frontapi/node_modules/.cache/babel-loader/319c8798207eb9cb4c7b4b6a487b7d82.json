{"ast":null,"code":"import _classCallCheck from\"/frontend/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";import _createClass from\"/frontend/node_modules/@babel/runtime/helpers/esm/createClass.js\";import{Ball}from\"./Ball\";import{BASE_BALL_POS_X,BASE_BALL_POS_Y,BASE_COLOR_BOARD,BASE_COLOR_FILL,BASE_COLOR_SHADOW,BASE_HEIGHT,BASE_PADDLE_LEFT_POS_X,BASE_PADDLE_LEFT_POS_Y,BASE_PADDLE_RIGHT_POS_X,BASE_PADDLE_RIGHT_POS_Y,BASE_WIDTH}from\"./base\";import{Paddle}from\"./Paddle\";export var Board=/*#__PURE__*/function(){function Board(){_classCallCheck(this,Board);this.left=void 0;this.right=void 0;this.ball=void 0;this.winner=void 0;this.left=new Paddle(BASE_PADDLE_LEFT_POS_X,BASE_PADDLE_LEFT_POS_Y,0,0);this.right=new Paddle(BASE_PADDLE_RIGHT_POS_X,BASE_PADDLE_RIGHT_POS_Y,0,0);this.ball=new Ball(BASE_BALL_POS_X,BASE_BALL_POS_Y,0,0);this.winner=0;}_createClass(Board,[{key:\"copy\",value:function copy(){var board=new Board();board.left=this.left.copy();board.right=this.right.copy();board.ball=this.ball.copy();return board;}},{key:\"tick\",value:function tick(){this.left.move();this.right.move();this.ball.move(this.left,this.right);var ballpos=this.ball.get_pos();if(ballpos.x<0){this.winner=2;return true;}else if(ballpos.x>BASE_WIDTH){this.winner=1;return true;}return false;}},{key:\"set_right_dir\",value:function set_right_dir(x,y){this.right.set_dir(x,y);}},{key:\"set_left_dir\",value:function set_left_dir(x,y){this.left.set_dir(x,y);}},{key:\"set_ball_dir\",value:function set_ball_dir(x,y){this.ball.set_dir(x,y);}},{key:\"is_won\",value:function is_won(){return this.winner!=0;}},{key:\"get_winner\",value:function get_winner(){return this.winner;}},{key:\"draw\",value:function draw(ctx,ratio){ctx.fillStyle=BASE_COLOR_BOARD;ctx.fillRect(0,0,BASE_WIDTH*ratio,BASE_HEIGHT*ratio);ctx.shadowColor=BASE_COLOR_SHADOW;ctx.shadowBlur=20;ctx.fillStyle=BASE_COLOR_FILL;this.left.draw(ctx,ratio);this.right.draw(ctx,ratio);this.ball.draw(ctx,ratio);//\t\tctx.strokeStyle = BASE_COLOR_FILL;\n//\t\tctx.lineWidth = 2;\n//\t\tctx.strokeRect(0, 0, BASE_WIDTH * ratio, BASE_HEIGHT * ratio);\n}},{key:\"reset\",value:function reset(){this.left=new Paddle(BASE_PADDLE_LEFT_POS_X,BASE_PADDLE_LEFT_POS_Y,0,0);this.right=new Paddle(BASE_PADDLE_RIGHT_POS_X,BASE_PADDLE_RIGHT_POS_Y,0,0);this.ball=new Ball(BASE_BALL_POS_X,BASE_BALL_POS_Y,0,0);this.winner=0;}}]);return Board;}();","map":{"version":3,"names":["Ball","BASE_BALL_POS_X","BASE_BALL_POS_Y","BASE_COLOR_BOARD","BASE_COLOR_FILL","BASE_COLOR_SHADOW","BASE_HEIGHT","BASE_PADDLE_LEFT_POS_X","BASE_PADDLE_LEFT_POS_Y","BASE_PADDLE_RIGHT_POS_X","BASE_PADDLE_RIGHT_POS_Y","BASE_WIDTH","Paddle","Board","left","right","ball","winner","board","copy","move","ballpos","get_pos","x","y","set_dir","ctx","ratio","fillStyle","fillRect","shadowColor","shadowBlur","draw"],"sources":["/frontend/src/game/gameTypes/Board.tsx"],"sourcesContent":["import {Ball} from \"./Ball\";\nimport {BASE_BALL_POS_X, BASE_BALL_POS_Y, BASE_COLOR_BOARD, BASE_COLOR_FILL, BASE_COLOR_SHADOW, BASE_HEIGHT, BASE_PADDLE_LEFT_POS_X, BASE_PADDLE_LEFT_POS_Y, BASE_PADDLE_RIGHT_POS_X, BASE_PADDLE_RIGHT_POS_Y, BASE_WIDTH} from \"./base\";\nimport {Paddle} from \"./Paddle\";\nimport {Vec} from \"./Vec\";\n\n\nexport class Board {\n\n\tprivate left: Paddle;\n\tprivate right: Paddle;\n\tprivate ball: Ball;\n\tprivate winner: number;\n\n\tpublic constructor() {\n\t\tthis.left = new Paddle(BASE_PADDLE_LEFT_POS_X, BASE_PADDLE_LEFT_POS_Y, 0, 0);\n\t\tthis.right = new Paddle(BASE_PADDLE_RIGHT_POS_X, BASE_PADDLE_RIGHT_POS_Y, 0, 0);\n\t\tthis.ball = new Ball(BASE_BALL_POS_X, BASE_BALL_POS_Y, 0, 0);\n\t\tthis.winner = 0;\n\t}\n\n\tpublic copy(): Board {\n\t\tconst board = new Board();\n\t\tboard.left = this.left.copy();\n\t\tboard.right = this.right.copy();\n\t\tboard.ball = this.ball.copy();\n\t\treturn board;\n\t}\n\n\tpublic tick(): boolean {\n\t\tthis.left.move();\n\t\tthis.right.move();\n\t\tthis.ball.move(this.left, this.right);\n\t\tconst ballpos: Vec = this.ball.get_pos();\n\t\tif (ballpos.x < 0) {\n\t\t\tthis.winner = 2;\n\t\t\treturn true;\n\t\t} else if (ballpos.x > BASE_WIDTH) {\n\t\t\tthis.winner = 1;\n\t\t\treturn true;\n\t\t}\n\t\treturn false;\n\t}\n\n\tpublic set_right_dir(x: number, y: number) {\n\t\tthis.right.set_dir(x, y);\n\t}\n\n\tpublic set_left_dir(x: number, y: number) {\n\t\tthis.left.set_dir(x, y);\n\t}\n\n\tpublic set_ball_dir(x: number, y: number) {\n\t\tthis.ball.set_dir(x, y);\n\t}\n\n\tpublic is_won(): boolean {\n\t\treturn this.winner != 0;\n\t}\n\n\tpublic get_winner(): number {\n\t\treturn this.winner;\n\t}\n\n\tpublic draw(ctx: CanvasRenderingContext2D, ratio: number) {\n\t\tctx.fillStyle = BASE_COLOR_BOARD;\n\t\tctx.fillRect(\n\t\t\t0,\n\t\t\t0,\n\t\t\tBASE_WIDTH * ratio,\n\t\t\tBASE_HEIGHT * ratio\n\t\t);\n\t\tctx.shadowColor = BASE_COLOR_SHADOW;\n\t\tctx.shadowBlur = 20;\n\t\tctx.fillStyle = BASE_COLOR_FILL;\n\t\tthis.left.draw(ctx, ratio);\n\t\tthis.right.draw(ctx, ratio);\n\t\tthis.ball.draw(ctx, ratio);\n//\t\tctx.strokeStyle = BASE_COLOR_FILL;\n//\t\tctx.lineWidth = 2;\n//\t\tctx.strokeRect(0, 0, BASE_WIDTH * ratio, BASE_HEIGHT * ratio);\n\t}\n\n\tpublic reset() {\n\t\tthis.left = new Paddle(BASE_PADDLE_LEFT_POS_X, BASE_PADDLE_LEFT_POS_Y, 0, 0);\n\t\tthis.right = new Paddle(BASE_PADDLE_RIGHT_POS_X, BASE_PADDLE_RIGHT_POS_Y, 0, 0);\n\t\tthis.ball = new Ball(BASE_BALL_POS_X, BASE_BALL_POS_Y, 0, 0);\n\t\tthis.winner = 0;\n\t}\n\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}